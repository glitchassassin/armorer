<!-- Alpine.js: nested within searchContext -->

<div id="search-results" class="overflow-auto container" x-show="query.length" x-cloak>
    <div class="my-3">
        <h3 class="text-center">References</h3>
        <p x-show="referenceResults.length === 0" class="text-muted">
              No results found
            </p>
        <div class="list-group">
            <template x-for="reference in referenceResults">
                <a x-bind:href="reference.url" x-text="reference.title" class="list-group-item list-group-item-action"></a>
            </template>
        </div>
    </div>
    <div class="my-3">
        <h3 class="text-center">Search Results</h3>
        <p x-show="searchPending && searchResults.length === 0" class="text-muted">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
              &nbsp;Searching...
            </p>
        <div x-show="!searchPending || searchResults.length > 0">
            <p x-show="searchResults.length === 0" class="text-muted">
                No results found
              </p>
            {% include "search/pagination.njk" %}
            <ul class="list-group mb-3">
                <template x-for="result in searchResults">
                    <li class="list-group-item list-group-item-action">
                        <a x-bind:href="result.url" x-text="result.title" class="stretched-link"></a>
                        <p x-html="result.content" class="text-muted"></p>
                    </li>
                </template>
            </ul>
            {% include "search/pagination.njk" %}
        </div>
    </div>
</div>
</div>